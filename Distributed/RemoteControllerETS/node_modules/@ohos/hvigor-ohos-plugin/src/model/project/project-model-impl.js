"use strict";
/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2021-2022. All rights reserved.
 *
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProjectModelImpl = void 0;
const app_res_model_impl_js_1 = require("../res/app-res-model-impl.js");
const path_1 = __importDefault(require("path"));
const core_project_model_impl_js_1 = require("./core-project-model-impl.js");
/**
 * Stage模型的工程持久化数据模型,包含工程源码数据,配置数据等
 *
 * @since 2022/1/20
 */
class ProjectModelImpl extends core_project_model_impl_js_1.CoreProjectModelImpl {
    constructor(projectPath, name) {
        super(projectPath, name);
        this.appRes = new app_res_model_impl_js_1.AppResModelImpl(path_1.default.resolve(projectPath, "AppScope"));
    }
    static getInstance(projectPath, name) {
        if (!ProjectModelImpl.instance) {
            if (projectPath === null || projectPath === undefined) {
                throw new Error("工程模型还未初始化，请正确传递工程路径");
            }
            if (name === null || name === undefined) {
                throw new Error("工程模型还未初始化，请正确传递工程名称");
            }
            ProjectModelImpl.instance = new ProjectModelImpl(projectPath, name);
        }
        return ProjectModelImpl.instance;
    }
    /**
     * 获取该工程默认的bundleName值,即AppScope中配置的值
     */
    getDefaultBundleName() {
        return this.appRes.getAppResOpt().app.bundleName;
    }
    getAppRes() {
        return this.appRes;
    }
}
exports.ProjectModelImpl = ProjectModelImpl;
//# sourceMappingURL=project-model-impl.js.map