"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AssembleApp = void 0;
/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2022-2022. All rights reserved.
 *
 */
const hvigor_base_1 = require("@ohos/hvigor-base");
const package_app_js_1 = require("../package-app.js");
const package_sub_hap_js_1 = require("../package-sub-hap.js");
const legacy_make_project_pack_info_js_1 = require("../legacy-tasks/legacy-make-project-pack-info.js");
const sign_app_js_1 = require("../sign-app.js");
/**
 * 组装打包app的任务流
 *
 * @since 2022/1/20
 */
class AssembleApp extends hvigor_base_1.Task {
    constructor(taskService, isFaMode) {
        super();
        this.registry = () => {
            const hvigor = new hvigor_base_1.Hvigor();
            return hvigor.series(new package_sub_hap_js_1.PackageSubHaps(this._taskService).registry(), new legacy_make_project_pack_info_js_1.LegacyMakeProjectPackInfo(this._taskService, this._isFaMode).registry(), new package_app_js_1.PackageApp(this._taskService).registry(), new sign_app_js_1.SignApp(this._taskService).registry());
        };
        this._taskService = taskService;
        this._isFaMode = isFaMode;
    }
}
exports.AssembleApp = AssembleApp;
//# sourceMappingURL=assemble-app.js.map