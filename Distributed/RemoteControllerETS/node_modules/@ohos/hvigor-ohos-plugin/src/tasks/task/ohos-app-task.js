"use strict";
/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2021-2022. All rights reserved.
 *
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.OhosAppTask = void 0;
const ohos_task_js_1 = require("./ohos-task.js");
const pretty_hrtime_1 = __importDefault(require("pretty-hrtime"));
const ohos_logger_js_1 = require("../../utils/log/ohos-logger.js");
/**
 * openHarmony基础app task
 *
 * @since 2022/1/10
 */
class OhosAppTask extends ohos_task_js_1.DefaultOhosTask {
    constructor(taskService, taskName) {
        super(taskService, taskName);
        this._logApp = ohos_logger_js_1.OhosLogger.getLogger('AppTask');
        this.service = taskService;
    }
    registry() {
        return (cb) => {
            const taskBeginTime = process.hrtime();
            this.doTaskAction();
            const taskEndTime = process.hrtime(taskBeginTime);
            const realTime = (0, pretty_hrtime_1.default)(taskEndTime);
            this._logApp._printTaskInfo(this.service.getProjectModel().getName(), this.taskName, realTime);
            cb();
        };
    }
}
exports.OhosAppTask = OhosAppTask;
//# sourceMappingURL=ohos-app-task.js.map