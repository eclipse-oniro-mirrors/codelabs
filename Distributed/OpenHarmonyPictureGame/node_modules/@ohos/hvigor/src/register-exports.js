"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.registerExports = void 0;
const index_1 = require("../index");
const { Task, DefaultSyncTask } = require(index_1.hvigorPath);
/**
 * 注册任务到Gvigor中
 *
 * @param vigorInst 任务管理对象
 * @param hvigorFileObj 任务执行脚本文件
 */
function registerExports(vigorInst, hvigorFileObj) {
    const registryTasks = new Map();
    const taskNames = Object.keys(hvigorFileObj);
    if (taskNames.length) {
        taskNames.forEach((taskName) => {
            const exportObj = hvigorFileObj[taskName];
            if (exportObj instanceof Task) {
                const task = exportObj.registry();
                vigorInst.task(taskName, task);
                registryTasks.set(taskName, exportObj instanceof DefaultSyncTask);
            }
        });
    }
    return registryTasks;
}
exports.registerExports = registerExports;
//# sourceMappingURL=register-exports.js.map